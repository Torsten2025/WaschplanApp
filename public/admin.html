<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin-Bereich - Waschmaschinen-App</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/admin.css">
</head>
<body>
    <!-- Login-Bereich (wird ausgeblendet wenn eingeloggt) -->
    <div id="login-section" class="login-container">
        <h2>Admin-Login</h2>
        <form id="login-form" class="login-form">
            <div>
                <label for="login-username">Benutzername:</label>
                <input type="text" id="login-username" required>
            </div>
            <div>
                <label for="login-password">Passwort:</label>
                <input type="password" id="login-password" required>
            </div>
            <button type="submit" class="btn-primary">Anmelden</button>
        </form>
        <div id="login-error" class="login-error"></div>
    </div>

    <!-- Admin-Bereich (wird angezeigt wenn eingeloggt) -->
    <div id="admin-section">
        <div class="admin-container">
            <div class="admin-header">
                <div>
                    <h1>üîß Admin-Bereich</h1>
                    <nav class="admin-header-nav">
                        <a href="/" class="admin-header-link">Buchungen</a>
                        <a href="/admin.html" class="admin-header-link">Admin</a>
                        <a href="/monitoring.html" class="admin-header-link">Monitoring</a>
                    </nav>
                </div>
                <div>
                    <span id="current-user"></span>
                    <button id="change-password-btn" class="btn-secondary btn-spacing-lg">Passwort √§ndern</button>
                    <button id="logout-btn" class="btn-danger btn-spacing-sm">Abmelden</button>
                </div>
            </div>
            
            <!-- Passwort-√Ñnderung Warnung (wenn Standard-Passwort) -->
            <div id="password-warning" class="password-warning">
                <div class="password-warning-box">
                    <strong>‚ö†Ô∏è Sicherheitswarnung:</strong> Sie verwenden noch das Standard-Passwort. Bitte √§ndern Sie es sofort!
                    <button id="change-password-warning-btn" class="password-warning-button">Jetzt √§ndern</button>
                </div>
            </div>

            <nav class="admin-nav">
                <button class="nav-tab active" data-tab="bookings">Buchungen</button>
                <button class="nav-tab" data-tab="machines">Maschinen</button>
                <button class="nav-tab" data-tab="users">Benutzer</button>
            </nav>

            <!-- Buchungen-Verwaltung -->
            <section id="bookings-tab" class="admin-section active">
                <div class="section-header-row">
                    <h2>Buchungen verwalten</h2>
                    <div>
                        <input type="date" id="bookings-filter-date" class="section-header-input">
                        <button id="refresh-bookings-btn" class="btn-primary">Aktualisieren</button>
                    </div>
                </div>
                <div id="bookings-container">
                    <p>L√§dt...</p>
                </div>
            </section>

            <!-- Maschinen-Verwaltung -->
            <section id="machines-tab" class="admin-section">
                <div class="section-header-row">
                    <h2>Maschinen verwalten</h2>
                    <button id="new-machine-btn" class="btn-primary">+ Neue Maschine</button>
                </div>
                <div id="machines-container">
                    <p>L√§dt...</p>
                </div>
            </section>

            <!-- Benutzer-Verwaltung -->
            <section id="users-tab" class="admin-section">
                <div class="section-header-row">
                    <h2>Benutzer verwalten</h2>
                    <button id="new-user-btn" class="btn-primary">+ Neuer Benutzer</button>
                </div>
                <div id="users-container">
                    <p>L√§dt...</p>
                </div>
            </section>
        </div>
    </div>

    <!-- Modal f√ºr Maschinen-Formular -->
    <div id="machine-modal" class="form-modal">
        <div class="form-modal-content">
            <h2 id="machine-modal-title">Neue Maschine</h2>
            <form id="machine-form">
                <input type="hidden" id="machine-id">
                <div class="form-group">
                    <label for="machine-name">Name:</label>
                    <input type="text" id="machine-name" required class="form-input">
                </div>
                <div class="form-group">
                    <label for="machine-type">Typ:</label>
                    <select id="machine-type" required class="form-input">
                        <option value="washer">Waschmaschine</option>
                        <option value="dryer">Trocknungsraum</option>
                    </select>
                </div>
                <div class="modal-actions">
                    <button type="button" id="close-machine-modal-btn" class="btn-secondary">Abbrechen</button>
                    <button type="submit" class="btn-primary">Speichern</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal f√ºr Benutzer-Formular -->
    <div id="user-modal" class="form-modal">
        <div class="form-modal-content">
            <h2 id="user-modal-title">Neuer Benutzer</h2>
            <form id="user-form">
                <input type="hidden" id="user-id">
                <div class="form-group">
                    <label for="user-username">Benutzername:</label>
                    <input type="text" id="user-username" required class="form-input">
                </div>
                <div class="form-group">
                    <label for="user-password">Passwort:</label>
                    <input type="password" id="user-password" class="form-input">
                    <small class="password-help-text">Nur ausf√ºllen wenn Passwort ge√§ndert werden soll</small>
                </div>
                <div class="form-group">
                    <label for="user-role">Rolle:</label>
                    <select id="user-role" required class="form-input">
                        <option value="user">Benutzer</option>
                        <option value="admin">Admin</option>
                    </select>
                </div>
                <div class="modal-actions">
                    <button type="button" id="close-user-modal-btn" class="btn-secondary">Abbrechen</button>
                    <button type="submit" class="btn-primary">Speichern</button>
                </div>
            </form>
        </div>
    </div>

    <script src="js/logger.js"></script>
    <script src="js/admin.js"></script>
</body>
</html>

